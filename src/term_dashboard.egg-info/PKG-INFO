Metadata-Version: 2.4
Name: term-dashboard
Version: 0.1.0
Summary: Terminal dashboard for real-time personal data sources.
Requires-Python: >=3.11
Description-Content-Type: text/markdown
Requires-Dist: rich>=13.7.0
Requires-Dist: httpx>=0.27.0
Requires-Dist: PyYAML>=6.0.1
Requires-Dist: feedparser>=6.0.11
Requires-Dist: google-api-python-client>=2.150.0
Requires-Dist: google-auth>=2.34.0
Requires-Dist: google-auth-oauthlib>=1.2.1
Provides-Extra: dev
Requires-Dist: pytest>=8.2.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.23.6; extra == "dev"
Requires-Dist: respx>=0.21.1; extra == "dev"
Requires-Dist: ruff>=0.6.0; extra == "dev"

ï»¿# Term Dashboard

A cross-platform terminal dashboard that refreshes near-real-time data in a responsive layout.
Designed for Linux (Kali), macOS, and Windows terminals.

## Features
- Responsive tile layout that adapts to terminal size and orientation
- Pluggable data sources (weather, RSS news, MCP-backed personal data)
- Simple YAML configuration
- Async refresh loops per data source

## Quickstart

```powershell
# From the repo root
python -m venv .venv
.\.venv\Scripts\Activate.ps1
pip install -e .

# Or using uv
uv venv
uv pip install -e .
```

Run with the example config:

```powershell
termdash -c configs\example.yaml
```

## Configuration

See `configs/example.yaml` for a template.

Key fields:
- `dashboard.title`: Title displayed in the header
- `dashboard.refresh_ui_seconds`: UI refresh interval
- `sources`: List of data sources with `type`, `refresh_seconds`, and `options`

## MCP Sources

MCP-backed sources are configured using `type: mcp` and an MCP client must be provided
at runtime. The default implementation returns an error until a client is injected.

Set `TERMDASH_MCP_CLIENT` to `module:function` that returns an MCP client instance:

```powershell
$env:TERMDASH_MCP_CLIENT = "my_mcp_factory:get_client"
```

Example MCP source configuration:

```yaml
- name: GitHub Notifications
  type: mcp
  refresh_seconds: 120
  options:
    server: github
    method: notifications.count
    params:
      participating: true
```

## Gmail Unread (Free)

This uses the Gmail API directly (no MCP required) and needs OAuth credentials.

1) Create a Google Cloud project and enable the Gmail API.
2) Create OAuth credentials (Desktop app).
3) Download `credentials.json`.
4) Run an OAuth flow to get a refresh token.

Minimal refresh-token helper (run once):

```powershell
python - <<'PY'
from google_auth_oauthlib.flow import InstalledAppFlow

SCOPES = ["https://www.googleapis.com/auth/gmail.readonly"]
flow = InstalledAppFlow.from_client_secrets_file("credentials.json", SCOPES)
creds = flow.run_local_server(port=0)
print("refresh_token=", creds.refresh_token)
PY
```

Set env vars:

```powershell
$env:GMAIL_CLIENT_ID = "..."
$env:GMAIL_CLIENT_SECRET = "..."
$env:GMAIL_REFRESH_TOKEN = "..."
```

Then use the `gmail_unread` source in config (see `configs/example.yaml`).

## Running as a Service (Linux)

Create a systemd unit at `/etc/systemd/system/termdash.service`:

```ini
[Unit]
Description=Term Dashboard
After=network-online.target

[Service]
Type=simple
WorkingDirectory=/path/to/term-dashboard
ExecStart=/path/to/term-dashboard/.venv/bin/termdash -c configs/example.yaml
Restart=always

[Install]
WantedBy=multi-user.target
```

## Testing

```powershell
pip install -e .[dev]
pytest
```

## Notes
- For real-time sources (email, messaging, packages), prefer MCP servers where available.
- Playwright MCP can be used to validate render output if you add a capture harness.
